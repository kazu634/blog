---
title: YAMLの内容を順番に取得したいな
author: kazu634
date: 2009-06-22
url: /2009/06/22/_1275/
wordtwit_post_info:
  - 'O:8:"stdClass":13:{s:6:"manual";b:0;s:11:"tweet_times";i:1;s:5:"delay";i:0;s:7:"enabled";i:1;s:10:"separation";s:2:"60";s:7:"version";s:3:"3.7";s:14:"tweet_template";b:0;s:6:"status";i:2;s:6:"result";a:0:{}s:13:"tweet_counter";i:2;s:13:"tweet_log_ids";a:1:{i:0;i:4661;}s:9:"hash_tags";a:0:{}s:8:"accounts";a:1:{i:0;s:7:"kazu634";}}'
categories:
  - Perl

---
<div class="section">
<p>
<a href="http://d.hatena.ne.jp/sirocco634/20090621/1245573790" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://d.hatena.ne.jp/sirocco634/20090621/1245573790', '前回');" target="_blank">前回</a>書いたPerlスクリプトだと、こんな感じでスクレイピングした結果が返ってくる。
</p>
  
<pre class="syntax-highlight">
~/working/tmp_perl/projects/scrape/starbucks on simoom634 <span class="synStatement">[</span><span class="synConstant">505</span><span class="synStatement">]</span> $: perl <span class="synStatement">test</span>.pl
---
shopinfo:
- 喫茶室ルノアール 田端東店
- <span class="synConstant">03-3810-2604</span>
- 東京都北区東田端<span class="synConstant">1-12-1</span>稲垣ハイツ<span class="synConstant">1</span>階
- 年中無休平日:<span class="synConstant">7</span>:<span class="synConstant">30-21</span>:<span class="synConstant">00</span>土曜日:<span class="synConstant">8</span>:<span class="synConstant">00-21</span>:<span class="synConstant">00</span>日祭日:<span class="synConstant">8</span>:<span class="synConstant">00-19</span>:<span class="synConstant">00</span>
- 禁煙席：<span class="synConstant">24</span>席喫煙席：<span class="synConstant">76</span>席
- JR田端駅徒歩<span class="synConstant">4</span>分北口出て右手陸橋を渡り交番角右折
- <span class="synStatement">''</span>
---
shopinfo:
- 喫茶室ルノアール 池袋東口店
- <span class="synConstant">03-3980-6352</span>
- 東京都豊島区東池袋<span class="synConstant">1-40-2</span>池袋旗ビル<span class="synConstant">2</span>階
- 年中無休全日:<span class="synConstant">7</span>:<span class="synConstant">30-23</span>:<span class="synConstant">00</span>
- 禁煙席：<span class="synConstant">38</span>席喫煙席：<span class="synConstant">32</span>席
- JR池袋駅東口出て明治通り左並びの東池袋<span class="synConstant">1</span>丁目交差点ヤマダ電機隣
- <span class="synStatement">''</span>
---
shopinfo:
- 喫茶室ルノアール 池袋パルコ横店
- <span class="synConstant">03-5957-7085</span>
- 東京都豊島区東池袋<span class="synConstant">1-42-8</span>第一イン池袋ビル地下<span class="synConstant">1</span>階
- 年中無休全日:<span class="synConstant">7</span>:<span class="synConstant">30-23</span>:<span class="synConstant">00</span>
- 禁煙席：<span class="synConstant">28</span>席喫煙席：<span class="synConstant">32</span>席
- JR池袋駅東口出て大通りから駅ビル「パルコ」左横の駅前「東京点心包家」角から左に入って30m
- <span class="synStatement">''</span>
---
shopinfo:
- 喫茶室ルノアール 巣鴨駅前店
- <span class="synConstant">03-3942-9349</span>
- 東京都豊島区巣鴨<span class="synConstant">1-15-1</span>宮田ビル<span class="synConstant">2</span>階
- 年中無休全日:<span class="synConstant">7</span>:<span class="synConstant">30-23</span>:<span class="synConstant">00</span>
- 禁煙席：<span class="synConstant">62</span>席喫煙席：<span class="synConstant">52</span>席
- JR巣鴨駅南口徒歩<span class="synConstant"></span>分ロータリー左手パチンコ店<span class="synConstant">2</span>階
- <span class="synStatement">''</span>
---
</pre>
  
<p>
    一つ一つのshopinfoは配列で、複数のshopinfoがあるので、基本的には二次元配列。一つのshopinfoの添え字0には店名が、1には電話番号が…といった規則性があるのだから、これはforeachじゃなくて、forを使って一つずつ取得すればいいのかな？いや、でもforeachでフラグか何かをたてて、添え字をカウントして上げればforeachでもいいのかな？
</p>
  
<p>
    ちょっと考えてみよう。
</p>
  
<h4>
    「perl」に関連する最近のエントリ
</h4>
  
<ul>
<li>
<a href="http://d.hatena.ne.jp/sirocco634/20090621/1245573790" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://d.hatena.ne.jp/sirocco634/20090621/1245573790', ' 銀座ルノアールの店舗情報を取得 &#8211; 武蔵の日記');" target="_blank"> 銀座ルノアールの店舗情報を取得 &#8211; 武蔵の日記</a>
</li>
<li>
<a href="http://d.hatena.ne.jp/sirocco634/20090606/1244292509" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://d.hatena.ne.jp/sirocco634/20090606/1244292509', ' perlでcgiを作る &#8211; 武蔵の日記');" target="_blank"> perlでcgiを作る &#8211; 武蔵の日記</a>
</li>
<li>
<a href="http://d.hatena.ne.jp/sirocco634/20090603/1244038947" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://d.hatena.ne.jp/sirocco634/20090603/1244038947', ' フォームを用いたデータの受け渡し &#8211; 武蔵の日記');" target="_blank"> フォームを用いたデータの受け渡し &#8211; 武蔵の日記</a>
</li>
<li>
<a href="http://d.hatena.ne.jp/sirocco634/20090531/1243777048" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://d.hatena.ne.jp/sirocco634/20090531/1243777048', ' MySQLのインストール &#8211; 武蔵の日記');" target="_blank"> MySQLのインストール &#8211; 武蔵の日記</a>
</li>
</ul>
</div>