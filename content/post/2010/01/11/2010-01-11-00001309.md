---
title: 「BUFFALO 40Mb/s DTCP-IP対応 NAS Link Station LS-WXシリーズ」を購入しました
author: kazu634
date: 2010-01-11
wordtwit_post_info:
  - 'O:8:"stdClass":13:{s:6:"manual";b:0;s:11:"tweet_times";i:1;s:5:"delay";i:0;s:7:"enabled";i:1;s:10:"separation";s:2:"60";s:7:"version";s:3:"3.7";s:14:"tweet_template";b:0;s:6:"status";i:2;s:6:"result";a:0:{}s:13:"tweet_counter";i:2;s:13:"tweet_log_ids";a:1:{i:0;i:5053;}s:9:"hash_tags";a:0:{}s:8:"accounts";a:1:{i:0;s:7:"kazu634";}}'
categories:
  - NAS

---
<div class="section">
<p>
    NASを購入しました。購入するに当たり、NFSマウントできるタイプがないかと探したのですが、個人用ではなかなか見あたりませんでした。それで調べてみると、sambaをファイルシステムとしてマウントできるので、それを使ってLinux上でもマウント可能と判明。
</p>
  
<p>
    これが決め手となって、NAS購入に踏み切りました。
</p>
  
<h4>
    ネットワーク構成
</h4>
  
<p>
    現在のネットワーク構成はこのような感じです:
</p>
  
<p>
<center>
</center>
</p>
  
<p>
<a href="http://flickr.com/photos/42332031@N02/4264672330/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://flickr.com/photos/42332031@N02/4264672330/', '');" title="Network Configuration"><img src="http://farm3.static.flickr.com/2677/4264672330_5780b7e3a3.jpg" /></a>
</p></p> 
  
<h4>
    NASの導入
</h4>
  
<p>
    NASは基本的には電源につないで、ルーターに LAN ケーブルをつなげば認識されます。私は RAID 0 のところを、RAID 1 で運用したかったので、その点を設定変更しました。
</p>
  
<h4>
    Snow Leopard で起動時にNASを自動でマウントする
</h4>
  
<p>
    「<a href="http://macfan.jp/guide/2008/10/13/post_100.html" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://macfan.jp/guide/2008/10/13/post_100.html', 'ネットワーク接続式ハードディスクを起動時にマウントさせるには？');" target="_blank">ネットワーク接続式ハードディスクを起動時にマウントさせるには？</a>」に書いてある手順の通りに実行すれば大丈夫だよ。
</p>
  
<h4>
    iTunesのライブラリをNASに移行する
</h4>
  
<p>
    「<a href="http://botantantan.seesaa.net/article/125358455.html" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://botantantan.seesaa.net/article/125358455.html', 'ボタンのタンタンと: iTunesライブラリを３台のMacで共有する方法');" target="_blank">ボタンのタンタンと: iTunesライブラリを３台のMacで共有する方法</a>」に書いてある手順の通りに実行すれば大丈夫だよ。
</p>
  
<h4>
    iPhotoのライブラリをNASに移行する
</h4>
  
<p>
    「<a href="http://www.mtbird.com/asis/mac/%E8%A4%87%E6%95%B0%E3%81%AE%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%A7iphoto%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%82%92%E5%85%B1%E6%9C%89%E3%81%99%E3%82%8B.html" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.mtbird.com/asis/mac/%E8%A4%87%E6%95%B0%E3%81%AE%E3%83%9E%E3%82%B7%E3%83%B3%E3%81%A7iphoto%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%82%92%E5%85%B1%E6%9C%89%E3%81%99%E3%82%8B.html', 'as/is &#187; 複数のマシンでiPhotoライブラリを共有する');" target="_blank">as/is &#187; 複数のマシンでiPhotoライブラリを共有する</a>」に書いてある手順の通りに実行すれば大丈夫だよ。
</p>
  
<h4>
    Ubuntu上でNASをマウントさせる
</h4>
  
<p>
    「<a href="http://itmst.blog71.fc2.com/blog-entry-99.html" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://itmst.blog71.fc2.com/blog-entry-99.html', 'Electronic Genome &#8211; Ubuntu 8.04のsmbfsでWindows共有フォルダをマウントする');" target="_blank">Electronic Genome &#8211; Ubuntu 8.04のsmbfsでWindows共有フォルダをマウントする</a>」を参考にします。
</p>
  
<p>
    まずはsmbfsがインストールされているかを確認します:
</p>
  
<pre class="syntax-highlight">
kazu634@srv634% aptitude search smbfs                                     /var/samba/convert <span class="synStatement">[</span><span class="synConstant">8084</span><span class="synStatement">]</span>
<span class="synStatement">[</span>sudo<span class="synStatement">]</span> password <span class="synStatement">for</span> kazu634:
i   smbfs                                     - Samba file system utilities
</pre>
  
<p>
    上記のように表示されれば大丈夫です。インストールされていなければ、sudo aptitude install smbfsを実行してください。
</p>
  
<p>
    後は、参考ページにあるように:
</p>
  
<blockquote title="Electronic Genome - Ubuntu 8.04のsmbfsでWindows共有フォルダをマウントする" cite="http://itmst.blog71.fc2.com/blog-entry-99.html">
<p>
      $ sudo mkdir /mnt/smb/2z
</p>
    
<p>
      $ sudo mount -t cifs -o username=アカウント,password=パスワード,codepage=cp932,iocharset=utf8,defaults //NASのIPアドレス/共有フォルダ名 /mnt/smb/2z
</p>
    
<p>
      $ ls /mnt/smb/2z
</p>
    
<p>
      Anime Backup Movie Music
</p>
    
<p>
      $ touch /mnt/smb/2z/日本語ファイル名テスト
</p>
    
<p>
      $ ls /mnt/smb/2z/
</p>
    
<p>
      Anime Backup Movie Music 日本語ファイル名テスト
</p>
    
<p>
<cite><a href="http://itmst.blog71.fc2.com/blog-entry-99.html" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://itmst.blog71.fc2.com/blog-entry-99.html', 'Electronic Genome &#8211; Ubuntu 8.04のsmbfsでWindows共有フォルダをマウントする');" target="_blank">Electronic Genome &#8211; Ubuntu 8.04のsmbfsでWindows共有フォルダをマウントする</a></cite>
</p>
</blockquote>
  
<p>
    とします。
</p>
  
<h4>
    Ubuntu起動時に自動でNASをマウントする
</h4>
  
<p>
    「<a href="http://itmst.blog71.fc2.com/blog-entry-99.html" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://itmst.blog71.fc2.com/blog-entry-99.html', 'Electronic Genome &#8211; Ubuntu 8.04のsmbfsでWindows共有フォルダをマウントする');" target="_blank">Electronic Genome &#8211; Ubuntu 8.04のsmbfsでWindows共有フォルダをマウントする</a>」で記載されているようにします。
</p>
  
<p>
    私はこのように設定しました:
</p>
  
<pre class="syntax-highlight">
kazu634@srv634% sudo cp <span class="synSpecial">-p</span> fstab fstab.<span class="synConstant">20100111</span>                                         /etc <span class="synStatement">[</span><span class="synConstant">8064</span><span class="synStatement">]</span>
kazu634@srv634% sudo vi fstab                                                           /etc <span class="synStatement">[</span><span class="synConstant">8065</span><span class="synStatement">]</span>
kazu634@srv634% diff fstab.<span class="synConstant">20100111</span> fstab                                               /etc <span class="synStatement">[</span><span class="synConstant">8066</span><span class="synStatement">]</span>
18a19,<span class="synConstant">21</span>
<span class="synStatement">&#62;</span>
<span class="synStatement">&#62;</span><span class="synComment"> # NAS</span>
<span class="synStatement">&#62;</span> //nas/share /mnt/nas cifs <span class="synIdentifier">codepage</span>=<span class="synIdentifier">cp932,iocharset</span>=utf8,defaults <span class="synConstant"></span> <span class="synConstant"></span>
kazu634@srv634% cat fstab                                                               /etc <span class="synStatement">[</span><span class="synConstant">8067</span><span class="synStatement">]</span>
<span class="synComment"># /etc/fstab: static file system information.</span>
<span class="synComment">#</span>
<span class="synComment"># Use 'vol_id --uuid' to print the universally unique identifier for a</span>
<span class="synComment"># device; this may be used with UUID= as a more robust way to name devices</span>
<span class="synComment"># that works even if disks are added and removed. See fstab(5).</span>
<span class="synComment">#</span>
<span class="synComment"># &#60;file system&#62; &#60;mount point&#62;   &#60;type&#62;  &#60;options&#62;       &#60;dump&#62;  &#60;pass&#62;</span>
proc            /proc           proc    defaults        <span class="synConstant"></span>       <span class="synConstant"></span>
<span class="synComment"># / was on /dev/mapper/srv634-root during installation</span>
<span class="synIdentifier">UUID</span>=4fa84179-82bf-482c-bbd2-c91d205a0bcc /               ext3    <span class="synIdentifier">relatime,errors</span>=remount-ro <span class="synConstant"></span>       <span class="synConstant">1</span>
<span class="synComment"># /boot was on /dev/sda5 during installation</span>
<span class="synIdentifier">UUID</span>=5300ed85-c573-4c42<span class="synConstant">-8102</span>-33282d38a6ed /boot           ext2    relatime        <span class="synConstant"></span>       <span class="synConstant">2</span>
<span class="synComment"># swap was on /dev/mapper/srv634-swap_1 during installation</span>
<span class="synIdentifier">UUID</span>=d11b8454-c760<span class="synConstant">-4331</span>-bf2a-c94faacecd7d none            swap    sw              <span class="synConstant"></span>       <span class="synConstant"></span>
/dev/scd0       /media/cdrom0   udf,iso9660 user,noauto,<span class="synStatement">exec</span>,utf8 <span class="synConstant"></span>       <span class="synConstant"></span>
<span class="synComment"># USB Devices</span>
/dev/sdb1       /var/backup_data        ext3    defaults        <span class="synConstant"></span>       <span class="synConstant"></span>
<span class="synComment"># NAS</span>
//nas/share /mnt/nas cifs <span class="synIdentifier">codepage</span>=<span class="synIdentifier">cp932,iocharset</span>=utf8,defaults <span class="synConstant"></span> <span class="synConstant"></span>
</pre>
</div>
