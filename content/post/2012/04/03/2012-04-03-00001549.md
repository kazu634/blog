---
title: wake on lanコマンドのラッパースクリプト
author: kazu634
date: 2012-04-03
wordtwit_post_info:
  - 'O:8:"stdClass":13:{s:6:"manual";b:0;s:11:"tweet_times";i:1;s:5:"delay";i:0;s:7:"enabled";i:1;s:10:"separation";s:2:"60";s:7:"version";s:3:"3.7";s:14:"tweet_template";b:0;s:6:"status";i:2;s:6:"result";a:0:{}s:13:"tweet_counter";i:2;s:13:"tweet_log_ids";a:1:{i:0;i:5455;}s:9:"hash_tags";a:0:{}s:8:"accounts";a:1:{i:0;s:7:"kazu634";}}'
categories:
  - つれづれ

---
<div class="section">
<p>
    最近はシェルスクリプトを書く機会が多いです。wake on lanコマンドのラッパースクリプト…といっても簡単なスクリプトを書きました:
</p>
  
<pre class="syntax-highlight">
<span class="synComment">#!/bin/bash</span>
<span class="synComment"># Mac側で必要になる作業:</span>
<span class="synComment">#     brew install wakeonlan</span>
<span class="synComment"># 起動させる側で、マジックパケットを受信するために設定を行う必要がある</span>
<span class="synComment"># Linuxの場合は、 ethtool をインストールし、設定を実施する</span>
<span class="synComment"># See: http://tukaikta.blog135.fc2.com/blog-entry-104.html</span>
<span class="synComment"># Exit 1 if the number of arguments is not 1.</span>
<span class="synStatement">if</span> <span class="synStatement">[</span> <span class="synPreProc">$#</span> <span class="synStatement">-ne</span> <span class="synConstant">1</span> <span class="synStatement">];</span> <span class="synStatement">then</span>
<span class="synStatement">exit</span> <span class="synConstant">1</span>
<span class="synStatement">fi</span>
<span class="synComment"># main</span>
<span class="synStatement">case</span> <span class="synPreProc">$1</span> <span class="synStatement">in</span>
faith634<span class="synStatement">)</span>
wakeonlan 8c:<span class="synConstant">89</span>:a5:<span class="synConstant">12</span>:9f:<span class="synConstant">41</span>
<span class="synStatement">exit</span> <span class="synConstant"></span>
<span class="synStatement">;;</span>
*<span class="synStatement">)</span>
<span class="synStatement">exit</span> <span class="synConstant"></span>
<span class="synStatement">;;</span>
<span class="synStatement">esac</span>
</pre>
  
<p>
    引数の数をチェックして、問題がなければ第一引数を検査して、該当すればwake on lanコマンドを実行します。
</p>
  
<div class="hatena-asin-detail">
<a href="http://www.amazon.co.jp/dp/4774146439/?tag=hatena_st1-22&ascsubtag=d-7ibv" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.amazon.co.jp/dp/4774146439/?tag=hatena_st1-22&ascsubtag=d-7ibv', '');"><img src="https://images-na.ssl-images-amazon.com/images/I/41GMyWgQ3cL._SL160_.jpg" class="hatena-asin-detail-image" alt="［改訂新版］ シェルスクリプト基本リファレンス　　??#!/bin/shで、ここまでできる (WEB+DB PRESS plus)" title="［改訂新版］ シェルスクリプト基本リファレンス　　??#!/bin/shで、ここまでできる (WEB+DB PRESS plus)" /></a></p> 
    
<div class="hatena-asin-detail-info">
<p class="hatena-asin-detail-title">
<a href="http://www.amazon.co.jp/dp/4774146439/?tag=hatena_st1-22&ascsubtag=d-7ibv" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.amazon.co.jp/dp/4774146439/?tag=hatena_st1-22&ascsubtag=d-7ibv', '［改訂新版］ シェルスクリプト基本リファレンス　　??#!/bin/shで、ここまでできる (WEB+DB PRESS plus)');">［改訂新版］ シェルスクリプト基本リファレンス　　??#!/bin/shで、ここまでできる (WEB+DB PRESS plus)</a>
</p>
      
<ul>
<li>
<span class="hatena-asin-detail-label">作者:</span> <a href="http://d.hatena.ne.jp/keyword/%BB%B3%BF%B9%BE%E6%C8%CF" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://d.hatena.ne.jp/keyword/%BB%B3%BF%B9%BE%E6%C8%CF', '山森丈範');" class="keyword">山森丈範</a>
</li>
<li>
<span class="hatena-asin-detail-label">出版社/メーカー:</span> <a href="http://d.hatena.ne.jp/keyword/%B5%BB%BD%D1%C9%BE%CF%C0%BC%D2" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://d.hatena.ne.jp/keyword/%B5%BB%BD%D1%C9%BE%CF%C0%BC%D2', '技術評論社');" class="keyword">技術評論社</a>
</li>
<li>
<span class="hatena-asin-detail-label">発売日:</span> 2011/04/27
</li>
<li>
<span class="hatena-asin-detail-label">メディア:</span> 単行本（ソフトカバー）
</li>
<li>
<span class="hatena-asin-detail-label">購入</span>: 9人 <span class="hatena-asin-detail-label">クリック</span>: 119回
</li>
<li>
<a href="http://d.hatena.ne.jp/asin/4774146439" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://d.hatena.ne.jp/asin/4774146439', 'この商品を含むブログ (11件) を見る');" target="_blank">この商品を含むブログ (11件) を見る</a>
</li>
</ul>
</div>
    
<div class="hatena-asin-detail-foot">
</div>
</div>
</div>
