---
title: ファイルを暗号化したい！
author: kazu634
date: 2007-12-28
url: /2007/12/28/_769/
wordtwit_post_info:
  - 'O:8:"stdClass":13:{s:6:"manual";b:0;s:11:"tweet_times";i:1;s:5:"delay";i:0;s:7:"enabled";i:1;s:10:"separation";s:2:"60";s:7:"version";s:3:"3.7";s:14:"tweet_template";b:0;s:6:"status";i:2;s:6:"result";a:0:{}s:13:"tweet_counter";i:2;s:13:"tweet_log_ids";a:1:{i:0;i:3539;}s:9:"hash_tags";a:0:{}s:8:"accounts";a:1:{i:0;s:7:"kazu634";}}'
categories:
  - Emacs

---
<div class="section">
<p>
    　パスワードの管理方法をMacに移行するにあたってどうしようかと考えていたのだけれど、GnuPGでテキストファイルを暗号化して管理してみようかと検討中。結局、Meadowでは回避策をとらないといけないみたいで、お手軽には暗号化・復号できないことがわかった。自分用のメモとして書き散らす。
</p>
  
<h4>
    PGPとは
</h4>
  
<p>
    　これから導入しようとするGnuPGはPGPというのが基になっているらしい。PGPというのはWikipediaによると、
</p>
  
<blockquote title="Pretty Good Privacy" cite="http://ja.wikipedia.org/wiki/Pretty_Good_Privacy">
<p>
      Pretty Good Privacy とは、フィル・ジマーマン(Philip Zimmermann)が開発、公開した暗号ソフトウエアである。略称は PGP。
</p>
    
<p>
<cite><a href="http://ja.wikipedia.org/wiki/Pretty_Good_Privacy" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://ja.wikipedia.org/wiki/Pretty_Good_Privacy', 'Pretty Good Privacy');" target="_blank">Pretty Good Privacy</a></cite>
</p>
</blockquote>
  
<p>
    ということらしい。これだとよくわからないので、「暗号」でまたWikipediaを調べると、
</p>
  
<blockquote title="暗号" cite="http://ja.wikipedia.org/wiki/%E6%9A%97%E5%8F%B7%E5%8C%96">
<p>
      暗号（あんごう、Cipher）あるいは暗号化（あんごうか、Encryption）とは、第三者に通信内容を知られないように行う特殊な通信（秘匿通信）方法のうち、通信文を見ても特別な知識なしでは読めないように変換する表記法（変換アルゴリズム）のことである。通信ではなく保管する文書等の内容を秘匿する方法としても用いることができる。
</p>
    
<p>
<cite><a href="http://ja.wikipedia.org/wiki/%E6%9A%97%E5%8F%B7%E5%8C%96" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://ja.wikipedia.org/wiki/%E6%9A%97%E5%8F%B7%E5%8C%96', '暗号');" target="_blank">暗号</a></cite>
</p>
</blockquote>
  
<p>
    ということだそうです。つまり、暗号化することでファイルを「特別な知識なしでは読めないように変換」できるのです。自分は「保管する文章などの内容を秘匿する」目的で使用するつもりだったわけです。
</p>
  
<p>
    　では、GnuPGとは何かといえば、
</p>
  
<blockquote title="GNU Privacy Guard" cite="http://ja.wikipedia.org/wiki/GNU_Privacy_Guard">
<p>
      GNU Privacy Guard (GnuPG) とは Pretty Good Privacy (PGP) の別実装として、GPL<span class="footnote"><a href="/sirocco634/#f1" name="fn1" title="著作権 (copyright) に対する考え方で、著作権を保持したまま、二次的著作物も含めて、すべての者が著作物の利用・再配布・改変できなければならない">*1</a></span> に基づいた暗号化ソフトである。 OpenPGP 規格 (RFC2440) に完全準拠しているが、古い PGP との互換性は完全ではない。
</p>
    
<p>
<cite><a href="http://ja.wikipedia.org/wiki/GNU_Privacy_Guard" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://ja.wikipedia.org/wiki/GNU_Privacy_Guard', 'GNU Privacy Guard');" target="_blank">GNU Privacy Guard</a></cite>
</p>
</blockquote>
  
<p>
    ということ。
</p>
  
<h4>
    導入とか
</h4>
  
<p>
    　「<a href="http://oku.edu.mie-u.ac.jp/%7Eokumura/linux/?GnuPG" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://oku.edu.mie-u.ac.jp/%7Eokumura/linux/?GnuPG', 'GnuPG &#8211; Linux Wiki');" target="_blank">GnuPG &#8211; Linux Wiki</a>」が役に立つ。
</p>
  
<h4>
    Emacsで使う
</h4>
  
<p>
    　「<a href="http://q.hatena.ne.jp/1137478760" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://q.hatena.ne.jp/1137478760', 'Emacs ユーザーの方に質問です。これは便利! と思える elisp プログラムを教えてください。\n標準で組み込まれてるものでも結構です。プログラムがどういうものかの説明も簡単にしていただけると嬉しいです。\nちなみに自分が便利だなと思うのは\n・ ELScreen (GNU screen のようなスクリーン機能を実現するもの)\n・kill-summary.el (killing buffer を履歴表示して yank するものを選べるようにする)\n・navi2ch (定番ですねｗ 2ちゃんねるビューワー)\n・riece (IRCクライアント)\nなどです。それから、こういう設定知ってる? 的なものも是非教えてください。\n今日 (windmove-default-keybindings) で shift + カーソルキーで分割したウィンドウが移動できることを知って驚愕してます。\nよろしくお願いします。');" target="_blank">Emacs ユーザーの方に質問です。これは便利! と思える elisp プログラムを教えてください。<br /> 標準で組み込まれてるものでも結構です。プログラムがどういうものかの説明も簡単にしていただけると嬉しいです。<br /> ちなみに自分が便利だなと思うのは<br /> ・ ELScreen (GNU screen のようなスクリーン機能を実現するもの)<br /> ・kill-summary.el (killing buffer を履歴表示して yank するものを選べるようにする)<br /> ・navi2ch (定番ですねｗ 2ちゃんねるビューワー)<br /> ・riece (IRCクライアント)<br /> などです。それから、こういう設定知ってる? 的なものも是非教えてください。<br /> 今日 (windmove-default-keybindings) で shift + カーソルキーで分割したウィンドウが移動できることを知って驚愕してます。<br /> よろしくお願いします。</a>」で紹介されているgpg.elを使おうとするも、リンク切れ。調べてみると、「<a href="http://www.mew.org/~kazu/proj/cipher/" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.mew.org/~kazu/proj/cipher/', '暗号ファイルのススメ');" target="_blank">暗号ファイルのススメ</a>」でalpaca.elとして公開されていることに気づいた。使い方は
</p>
  
<pre class="syntax-highlight">
<span class="synSpecial">(</span>autoload <span class="synSpecial">'</span><span class="synIdentifier">alpaca-after-find-file</span> <span class="synConstant">&#34;alpaca&#34;</span> <span class="synStatement">nil</span> <span class="synStatement">t</span><span class="synSpecial">)</span>
<span class="synSpecial">(</span>add-hook <span class="synSpecial">'</span><span class="synIdentifier">find-file-hooks</span> <span class="synSpecial">'</span><span class="synIdentifier">alpaca-after-find-file</span><span class="synSpecial">)</span>
</pre>
  
<p>
    ということだ。
</p>
  
<p>
    　けど、Meadowだと「fakecygpty」というのでごにゃごにゃしないといけないらしい。ここで面倒くさくなってやめた。Macにスイッチすれば簡単にできるだろう…と期待したい。
</p>
  
<h4>
    参考になりそうな本
</h4>
  
<p>
    　宮城県立図書館に蔵書されていることに気づいたり。借りてこようかな。
</p>
  
<div class="hatena-asin-detail">
<a href="http://www.amazon.co.jp/dp/4797322977/?tag=hatena_st1-22&ascsubtag=d-7ibv" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.amazon.co.jp/dp/4797322977/?tag=hatena_st1-22&ascsubtag=d-7ibv', '');"><img src="https://images-na.ssl-images-amazon.com/images/I/51Y8P0WQV7L._SL160_.jpg" class="hatena-asin-detail-image" alt="暗号技術入門-秘密の国のアリス" title="暗号技術入門-秘密の国のアリス" /></a></p> 
    
<div class="hatena-asin-detail-info">
<p class="hatena-asin-detail-title">
<a href="http://www.amazon.co.jp/dp/4797322977/?tag=hatena_st1-22&ascsubtag=d-7ibv" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.amazon.co.jp/dp/4797322977/?tag=hatena_st1-22&ascsubtag=d-7ibv', '暗号技術入門-秘密の国のアリス');">暗号技術入門-秘密の国のアリス</a>
</p>
      
<ul>
<li>
<span class="hatena-asin-detail-label">作者:</span> <a href="http://d.hatena.ne.jp/keyword/%B7%EB%BE%EB%B9%C0" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://d.hatena.ne.jp/keyword/%B7%EB%BE%EB%B9%C0', '結城浩');" class="keyword">結城浩</a>
</li>
<li>
<span class="hatena-asin-detail-label">出版社/メーカー:</span> <a href="http://d.hatena.ne.jp/keyword/%A5%BD%A5%D5%A5%C8%A5%D0%A5%F3%A5%AF%A5%AF%A5%EA%A5%A8%A5%A4%A5%C6%A5%A3%A5%D6" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://d.hatena.ne.jp/keyword/%A5%BD%A5%D5%A5%C8%A5%D0%A5%F3%A5%AF%A5%AF%A5%EA%A5%A8%A5%A4%A5%C6%A5%A3%A5%D6', 'ソフトバンククリエイティブ');" class="keyword">ソフトバンククリエイティブ</a>
</li>
<li>
<span class="hatena-asin-detail-label">発売日:</span> 2003/09/30
</li>
<li>
<span class="hatena-asin-detail-label">メディア:</span> 単行本（ソフトカバー）
</li>
<li>
<span class="hatena-asin-detail-label">購入</span>: 7人 <span class="hatena-asin-detail-label">クリック</span>: 59回
</li>
<li>
<a href="http://d.hatena.ne.jp/asin/4797322977" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://d.hatena.ne.jp/asin/4797322977', 'この商品を含むブログ (174件) を見る');" target="_blank">この商品を含むブログ (174件) を見る</a>
</li>
</ul>
</div>
    
<div class="hatena-asin-detail-foot">
</div>
</div>
</div>

<div class="footnote">
<p class="footnote">
<a href="/sirocco634/#fn1" name="f1">*1</a>：著作権 (copyright) に対する考え方で、著作権を保持したまま、二次的著作物も含めて、すべての者が著作物の利用・再配布・改変できなければならない
</p>
</div>
