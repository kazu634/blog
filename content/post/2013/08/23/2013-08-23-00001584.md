---
title: Jenkinsが使用するタイムゾーンを変更する
author: kazu634
date: 2013-08-23
geo_latitude:
  - 38.306198
geo_longitude:
  - 141.022797
geo_public:
  - 1
wordtwit_posted_tweets:
  - 'a:1:{i:0;i:1798;}'
wordtwit_post_info:
  - 'O:8:"stdClass":13:{s:6:"manual";b:0;s:11:"tweet_times";s:1:"1";s:5:"delay";s:1:"0";s:7:"enabled";s:1:"1";s:10:"separation";i:60;s:7:"version";s:3:"3.7";s:14:"tweet_template";b:0;s:6:"status";i:2;s:6:"result";a:0:{}s:13:"tweet_counter";i:2;s:13:"tweet_log_ids";a:1:{i:0;i:1798;}s:9:"hash_tags";a:0:{}s:8:"accounts";a:1:{i:0;s:7:"kazu634";}}'
categories:
  - jenkins

---
## 何に困ったの？

Ubuntuサーバのタイムゾーンの設定には以下の二つのファイルが有ります:

  1. /etc/timezone
  2. /etc/localtime

基本的には二つのファイルは同一のタイムゾーンの設定が入ります。

今回私は AWS で Ubuntu サーバを構築し、timezone の設定を UTC にしてしまい、JenkinsはUTCで時刻表示されるようになってしまいました。

## 解決策

解決策は二つあり:

  1. タイムゾーンの設定を Asia/Tokyo で統一する
  2. Jenkinsで使用するタイムゾーンを明示的に指定する

今回は 2. の場合に指定方法をまとめます。

## 手順

次の行を /etc/defaults/jenkins に以下の行を追加します:

<pre class="lang:default decode:true ">JAVA_ARGS="-Dorg.apache.commons.jelly.tags.fmt.timeZone=Asia/Tokyo"
</pre>

その後、`sudo service jenkins restart`します。

## 参考

  * <a href="https://wiki.jenkins-ci.org/display/JENKINS/Change+time+zone" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://wiki.jenkins-ci.org/display/JENKINS/Change+time+zone', 'Change time zone');">Change time zone</a>
