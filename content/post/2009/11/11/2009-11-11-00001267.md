---
title: ターミナルから mysql の命令を実行する
author: kazu634
date: 2009-11-11
wordtwit_post_info:
  - 'O:8:"stdClass":13:{s:6:"manual";b:0;s:11:"tweet_times";i:1;s:5:"delay";i:0;s:7:"enabled";i:1;s:10:"separation";s:2:"60";s:7:"version";s:3:"3.7";s:14:"tweet_template";b:0;s:6:"status";i:2;s:6:"result";a:0:{}s:13:"tweet_counter";i:2;s:13:"tweet_log_ids";a:1:{i:0;i:4919;}s:9:"hash_tags";a:0:{}s:8:"accounts";a:1:{i:0;s:7:"kazu634";}}'
categories:
  - mysql

---
<div class="section">
<p>
    基本的に mysql を実行すると、インターラクティブに命令を実行することになります。これをシェル上から実行できるとうれしいと思い、調べてみました。
</p>
  
<p>
    するとこんな記述を発見しました:
</p>
  
<blockquote title="MySQLクイック・リファレンス" cite="http://www.bitscope.co.jp/tep/MySQL/quickMySQL.html#doc1_id207">
<p>
      コマンドの実行結果をmysqlコマンドに渡して実行し、ファイルに出力 (1)
</p>
    
<pre class="syntax-highlight">
$ cat <span class="synStatement">(</span>SQL<span class="synStatement">)</span>ファイル名 <span class="synStatement">|</span> mysql <span class="synStatement">[-t</span> <span class="synStatement">-N]</span> データベース名 <span class="synStatement">&#62;</span> <span class="synStatement">(</span>OUT<span class="synStatement">)</span>ファイル名
</pre>
    
<p>
      コマンドの実行結果をmysqlコマンドに渡して実行し、ファイルに出力 (2)
</p>
    
<pre class="syntax-highlight">
$ <span class="synStatement">echo</span><span class="synConstant"> </span><span class="synStatement">&#34;</span><span class="synConstant">select * from </span><span class="synSpecial">テーブル名</span><span class="synStatement">&#34;</span><span class="synConstant"> </span><span class="synStatement">|</span> mysql <span class="synStatement">[-t</span> <span class="synStatement">-N]</span> データベース名 <span class="synStatement">&#62;</span> <span class="synStatement">(</span>OUT<span class="synStatement">)</span>ファイル名
</pre>
    
<p>
      オプション「-t」、「-N」については、ファイルに記述したSQL文を実行するを参照してください。
</p>
    
<p>
<cite><a href="http://www.bitscope.co.jp/tep/MySQL/quickMySQL.html#doc1_id207" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.bitscope.co.jp/tep/MySQL/quickMySQL.html#doc1_id207', 'MySQLクイック・リファレンス');" target="_blank">MySQLクイック・リファレンス</a></cite>
</p>
</blockquote>
  
<p>
    というわけで自分でも実行してみました。
</p>
  
<pre class="syntax-highlight">
~/bin on kazu634 <span class="synStatement">[</span><span class="synConstant">508</span><span class="synStatement">]</span> $: <span class="synStatement">echo</span><span class="synConstant"> </span><span class="synStatement">&#34;</span><span class="synConstant">select * from Starbucks where id=1\G</span><span class="synStatement">&#34;</span><span class="synConstant"> </span><span class="synStatement">|</span> mysql5 <span class="synSpecial">-uuser</span> <span class="synSpecial">-ppassword</span> <span class="synSpecial">-h</span> hostname databasename
*************************** <span class="synConstant">1</span>. row ***************************
id: <span class="synConstant">1</span>
shopname: 錦糸町 丸井店
post_code: <span class="synConstant">130-0022</span>
address: 東京都墨田区江東橋<span class="synConstant">3-9-10</span>
tel: <span class="synConstant">03-3631-4701</span>
hours: 月～木: <span class="synConstant">7</span>:<span class="synConstant">00</span> ～ <span class="synConstant">22</span>:<span class="synConstant">30</span>金: <span class="synConstant">7</span>:<span class="synConstant">00</span> ～ <span class="synConstant">22</span>:<span class="synConstant">30</span>土: <span class="synConstant">7</span>:<span class="synConstant">00</span> ～ <span class="synConstant">22</span>:<span class="synConstant">30</span>日: <span class="synConstant">7</span>:<span class="synConstant">00</span> ～ <span class="synConstant">22</span>:<span class="synConstant">30</span>祝日: <span class="synConstant">7</span>:<span class="synConstant">00</span> ～ <span class="synConstant">22</span>:<span class="synConstant">30#</span>#休日：不定休
nearby: 錦糸町駅 <span class="synStatement">(</span> JR総武本線、JR総武線 <span class="synStatement">)</span> 徒歩<span class="synConstant">3</span>分 丸井錦糸町店
lat: NULL
lng: NULL
</pre>
</div>
